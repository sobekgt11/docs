---
title: Enviar Envelope
description: Cria e envia um envelope para assinatura usando documento já armazenado no S3.
openapi: 'POST /api/envelopes/send'
---

Este endpoint permite criar e enviar envelopes usando documentos já armazenados no S3 ou templates existentes. O envelope é enviado automaticamente para os destinatários após a criação.

<RequestExample>
<CodeGroup>

```bash cURL
curl -X POST "https://api.formsign.com.br/api/envelopes/send" \
  -H "Authorization: Bearer <TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{
    "subject": "Contrato de Locação Residencial - Assinatura Necessária",
    "message": "Prezado(a) locatário(a), segue anexo o contrato de locação para sua análise e assinatura digital. Por favor, revise todos os termos e assine nos campos indicados.",
    "submissionType": "document",
    "s3Key": "documents/usr_abc123/contrato_locacao_2024.pdf",
    "documentSettings": {
      "documentName": "contrato_locacao_residencial.pdf",
      "documentSizeMB": "1.2",
      "fileHash": "sha256:a1b2c3d4e5f6789abcdef123456..."
    },
    "fields": [
      {
        "type": "signature",
        "identifier": "assinatura_locador",
        "name": "Assinatura do Locador",
        "required": true,
        "x": 20,
        "y": 85,
        "w": 25,
        "h": 10,
        "pageNumber": 3,
        "recipientRole": "landlord"
      },
      {
        "type": "signature",
        "identifier": "assinatura_locatario",
        "name": "Assinatura do Locatário", 
        "required": true,
        "x": 65,
        "y": 85,
        "w": 25,
        "h": 10,
        "pageNumber": 3,
        "recipientRole": "tenant"
      },
      {
        "type": "date",
        "identifier": "data_contrato",
        "name": "Data do Contrato",
        "required": true,
        "x": 75,
        "y": 75,
        "w": 20,
        "h": 6,
        "pageNumber": 3
      },
      {
        "type": "text",
        "identifier": "valor_aluguel",
        "name": "Valor do Aluguel Mensal",
        "required": true,
        "x": 45,
        "y": 42,
        "w": 20,
        "h": 5,
        "pageNumber": 1,
        "placeholder": "R$ 0,00"
      }
    ],
    "recipients": [
      {
        "email": "maria.proprietaria@gmail.com",
        "name": "Maria Santos Proprietária",
        "signatureType": "draw",
        "role": "signer",
        "cpf": "123.456.789-00",
        "order": 1
      },
      {
        "email": "joao.locatario@hotmail.com", 
        "name": "João da Silva Locatário",
        "signatureType": "draw",
        "role": "signer",
        "cpf": "987.654.321-00",
        "order": 2
      }
    ],
    "observers": [
      {
        "email": "imobiliaria@corretor.com.br",
        "name": "Imobiliária Corretor Ltda",
        "role": "observer"
      }
    ],
    "advancedOptions": {
      "autoReminders": true,
      "reminderDelay": 2,
      "reminderFrequency": 3,
      "expirationDays": 15,
      "expirationWarning": 3
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://api.formsign.com.br/api/envelopes/send', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer <TOKEN>',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    subject: 'Contrato de Prestação de Serviços - Assinatura Digital',
    message: 'Prezado cliente, anexo o contrato de prestação de serviços. Favor revisar e assinar digitalmente.',
    submissionType: 'document',
    s3Key: 'documents/usr_abc123/contrato_servicos_consultoria.pdf',
    documentSettings: {
      documentName: 'contrato_prestacao_servicos.pdf',
      documentSizeMB: '0.8',
      fileHash: 'sha256:x9y8z7w6v5u4t3s2r1q0p9o8...'
    },
    fields: [
      {
        type: 'signature',
        identifier: 'assinatura_contratante',
        name: 'Assinatura do Contratante',
        required: true,
        x: 25,
        y: 80,
        w: 30,
        h: 12,
        pageNumber: 2,
        recipientRole: 'contractor'
      },
      {
        type: 'signature',
        identifier: 'assinatura_prestador',
        name: 'Assinatura do Prestador',
        required: true,
        x: 65,
        y: 80,
        w: 30,
        h: 12,
        pageNumber: 2,
        recipientRole: 'service_provider'
      },
      {
        type: 'date',
        identifier: 'data_inicio_servicos',
        name: 'Data de Início',
        required: true,
        x: 30,
        y: 35,
        w: 20,
        h: 6,
        pageNumber: 1
      },
      {
        type: 'text',
        identifier: 'valor_total_servicos',
        name: 'Valor Total dos Serviços',
        required: true,
        x: 60,
        y: 50,
        w: 25,
        h: 6,
        pageNumber: 1,
        placeholder: 'R$ 0,00'
      }
    ],
    recipients: [
      {
        email: 'empresa.cliente@corporativo.com.br',
        name: 'Empresa Cliente Ltda',
        signatureType: 'draw',
        role: 'signer',
        cpf: '12.345.678/0001-90',
        order: 1
      },
      {
        email: 'consultoria@prestador.com.br',
        name: 'Consultoria Especializada ME',
        signatureType: 'type',
        role: 'signer',
        cpf: '98.765.432/0001-10',
        order: 2
      }
    ],
    advancedOptions: {
      autoReminders: true,
      reminderDelay: 1,
      reminderFrequency: 2,
      expirationDays: 7,
      expirationWarning: 1
    }
  })
});

const result = await response.json();
console.log('Envelope enviado:', result.envelopeId);
```

```python Python
import requests

payload = {
    "subject": "NDA - Acordo de Confidencialidade Bilateral",
    "message": "Prezados, segue o Acordo de Confidencialidade para assinatura de ambas as partes. Prazo para assinatura: 5 dias úteis.",
    "submissionType": "document",
    "s3Key": "documents/usr_abc123/nda_acordo_confidencialidade.pdf",
    "documentSettings": {
        "documentName": "nda_confidencialidade_bilateral.pdf",
        "documentSizeMB": "0.6",
        "fileHash": "sha256:f5e4d3c2b1a098765432..."
    },
    "fields": [
        {
            "type": "signature",
            "identifier": "assinatura_empresa_a",
            "name": "Assinatura Empresa A",
            "required": True,
            "x": 25,
            "y": 85,
            "w": 20,
            "h": 8,
            "pageNumber": 2,
            "recipientRole": "company_a"
        },
        {
            "type": "signature",
            "identifier": "assinatura_empresa_b", 
            "name": "Assinatura Empresa B",
            "required": True,
            "x": 65,
            "y": 85,
            "w": 20,
            "h": 8,
            "pageNumber": 2,
            "recipientRole": "company_b"
        },
        {
            "type": "text",
            "identifier": "nome_projeto_confidencial",
            "name": "Nome do Projeto",
            "required": True,
            "x": 40,
            "y": 25,
            "w": 35,
            "h": 6,
            "pageNumber": 1,
            "placeholder": "Ex: Projeto Alpha 2024"
        },
        {
            "type": "date",
            "identifier": "data_validade_nda",
            "name": "Data de Validade",
            "required": True,
            "x": 60,
            "y": 45,
            "w": 25,
            "h": 6,
            "pageNumber": 1
        }
    ],
    "recipients": [
        {
            "email": "juridico@empresaa.com.br",
            "name": "Empresa A - Jurídico",
            "signatureType": "draw",
            "role": "signer",
            "cpf": "11.222.333/0001-44",
            "order": 1
        },
        {
            "email": "contratos@empresab.com.br",
            "name": "Empresa B - Contratos", 
            "signatureType": "draw",
            "role": "signer",
            "cpf": "55.666.777/0001-88",
            "order": 2
        }
    ],
    "observers": [
        {
            "email": "auditoria@empresaa.com.br",
            "name": "Auditoria Interna - Empresa A",
            "role": "observer"
        }
    ],
    "advancedOptions": {
        "autoReminders": True,
        "reminderDelay": 1,
        "reminderFrequency": 1,
        "expirationDays": 5,
        "expirationWarning": 1
    }
}

response = requests.post(
    'https://api.formsign.com.br/api/envelopes/send',
    json=payload,
    headers={'Authorization': 'Bearer <TOKEN>'}
)

result = response.json()
print(f"Envelope enviado: {result['envelopeId']}")
print(f"Status: Enviado para {len(payload['recipients'])} destinatários")
```

```go Go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "io"
    "net/http"
)

func main() {
    payload := map[string]interface{}{
        "subject": "Termo de Adesão - Plano Premium",
        "message": "Prezado cliente, segue o Termo de Adesão ao Plano Premium. Após assinatura, os benefícios serão ativados em até 24h.",
        "submissionType": "document",
        "s3Key": "documents/usr_abc123/termo_adesao_premium.pdf",
        "documentSettings": map[string]interface{}{
            "documentName": "termo_adesao_plano_premium.pdf",
            "documentSizeMB": "0.4",
            "fileHash": "sha256:z9x8c7v6b5n4m3l2k1j0...",
        },
        "fields": []map[string]interface{}{
            {
                "type": "signature",
                "identifier": "assinatura_cliente",
                "name": "Assinatura do Cliente",
                "required": true,
                "x": 45,
                "y": 80,
                "w": 35,
                "h": 10,
                "pageNumber": 2,
                "recipientRole": "customer",
            },
            {
                "type": "date",
                "identifier": "data_adesao",
                "name": "Data de Adesão",
                "required": true,
                "x": 65,
                "y": 70,
                "w": 20,
                "h": 6,
                "pageNumber": 2,
            },
            {
                "type": "radio",
                "identifier": "plano_escolhido",
                "name": "Plano Escolhido",
                "required": true,
                "x": 20,
                "y": 40,
                "w": 60,
                "h": 15,
                "pageNumber": 1,
                "options": []map[string]interface{}{
                    {
                        "value": "premium_mensal",
                        "x": 20,
                        "y": 42,
                        "w": 25,
                        "h": 4,
                    },
                    {
                        "value": "premium_anual",
                        "x": 20,
                        "y": 47,
                        "w": 25,
                        "h": 4,
                    },
                    {
                        "value": "premium_vitalicio",
                        "x": 20,
                        "y": 52,
                        "w": 25,
                        "h": 4,
                    },
                },
            },
        },
        "recipients": []map[string]interface{}{
            {
                "email": "cliente.vip@exemplo.com.br",
                "name": "Carlos Mendes Cliente VIP",
                "signatureType": "draw",
                "role": "signer",
                "cpf": "456.789.123-45",
                "order": 1,
            },
        },
        "observers": []map[string]interface{}{
            {
                "email": "vendas@empresa.com.br",
                "name": "Equipe de Vendas",
                "role": "observer",
            },
            {
                "email": "financeiro@empresa.com.br", 
                "name": "Departamento Financeiro",
                "role": "observer",
            },
        },
        "advancedOptions": map[string]interface{}{
            "autoReminders": true,
            "reminderDelay": 1,
            "reminderFrequency": 2,
            "expirationDays": 10,
            "expirationWarning": 2,
        },
    }
    
    jsonData, _ := json.Marshal(payload)
    req, _ := http.NewRequest("POST", "https://api.formsign.com.br/api/envelopes/send", bytes.NewBuffer(jsonData))
    req.Header.Set("Authorization", "Bearer <TOKEN>")
    req.Header.Set("Content-Type", "application/json")
    
    client := &http.Client{}
    resp, err := client.Do(req)
    if err != nil {
        panic(err)
    }
    defer resp.Body.Close()
    
    body, _ := io.ReadAll(resp.Body)
    
    var result map[string]interface{}
    json.Unmarshal(body, &result)
    
    fmt.Printf("Envelope enviado: %v\n", result["envelopeId"])
}
```

</CodeGroup>
</RequestExample>

### Parâmetros (Body)

<ParamField body="subject" type="string" required>Assunto do envelope.</ParamField>
<ParamField body="message" type="string">Mensagem personalizada para os destinatários.</ParamField>
<ParamField body="submissionType" type="string" required>Tipo de submissão: "document" ou "form".</ParamField>
<ParamField body="s3Key" type="string">Chave S3 do documento (obrigatório para submissionType "document").</ParamField>
<ParamField body="documentSettings" type="object">Configurações do documento.</ParamField>
<ParamField body="fields" type="array" required>Campos do envelope.</ParamField>
<ParamField body="recipients" type="array" required>Destinatários do envelope.</ParamField>
<ParamField body="observers" type="array">Observadores que receberão cópias mas não precisam assinar.</ParamField>
<ParamField body="advancedOptions" type="object">Opções avançadas de entrega.</ParamField>

<Expandable title="documentSettings (Configurações do Documento)">
  <ParamField body="documentSettings.documentName" type="string" required>Nome do arquivo do documento.</ParamField>
  <ParamField body="documentSettings.documentSizeMB" type="string">Tamanho do documento em MB.</ParamField>
  <ParamField body="documentSettings.fileHash" type="string" required>Hash SHA256 do arquivo.</ParamField>
</Expandable>

<Expandable title="fields[] (Campos do Documento)">
  <ParamField body="fields[].type" type="string" required>Tipo: "signature", "text", "date", "checkbox", "radio".</ParamField>
  <ParamField body="fields[].identifier" type="string" required>Identificador único do campo.</ParamField>
  <ParamField body="fields[].name" type="string">Nome/label do campo.</ParamField>
  <ParamField body="fields[].required" type="boolean" required>Se o campo é obrigatório.</ParamField>
  <ParamField body="fields[].x" type="number" required>Posição X (%).</ParamField>
  <ParamField body="fields[].y" type="number" required>Posição Y (%).</ParamField>
  <ParamField body="fields[].w" type="number" required>Largura (%).</ParamField>
  <ParamField body="fields[].h" type="number" required>Altura (%).</ParamField>
  <ParamField body="fields[].pageNumber" type="integer">Número da página.</ParamField>
  <ParamField body="fields[].placeholder" type="string">Texto de placeholder.</ParamField>
  <ParamField body="fields[].recipientRole" type="string">Papel do destinatário responsável.</ParamField>
  <ParamField body="fields[].options" type="array">Opções para radio/checkbox.</ParamField>
</Expandable>

<Expandable title="recipients[] (Destinatários)">
  <ParamField body="recipients[].email" type="string" required>Email do destinatário.</ParamField>
  <ParamField body="recipients[].name" type="string" required>Nome do destinatário.</ParamField>
  <ParamField body="recipients[].signatureType" type="string" required>Tipo: "draw", "type", "upload".</ParamField>
  <ParamField body="recipients[].role" type="string" required>Papel: "signer", "cc", "viewer".</ParamField>
  <ParamField body="recipients[].cpf" type="string">CPF ou CNPJ para identificação.</ParamField>
  <ParamField body="recipients[].order" type="integer">Ordem de assinatura.</ParamField>
</Expandable>

<Expandable title="observers[] (Observadores)">
  <ParamField body="observers[].email" type="string" required>Email do observador.</ParamField>
  <ParamField body="observers[].name" type="string" required>Nome do observador.</ParamField>
  <ParamField body="observers[].role" type="string" required>Deve ser "observer".</ParamField>
</Expandable>

<Expandable title="advancedOptions (Opções Avançadas)">
  <ParamField body="advancedOptions.autoReminders" type="boolean">Enviar lembretes automáticos.</ParamField>
  <ParamField body="advancedOptions.reminderDelay" type="integer">Atraso inicial (dias).</ParamField>
  <ParamField body="advancedOptions.reminderFrequency" type="integer">Frequência dos lembretes (dias).</ParamField>
  <ParamField body="advancedOptions.expirationDays" type="integer">Dias para expiração.</ParamField>
  <ParamField body="advancedOptions.expirationWarning" type="integer">Aviso antes da expiração (dias).</ParamField>
</Expandable>

### Respostas

<ResponseExample>

```json 200 Sucesso
{
  "message": "Success",
  "envelopeId": "env_abc123456789"
}
```

```json 400 Dados Inválidos
{
  "error": "Pelo menos um recipient é obrigatório"
}
```

```json 400 S3Key Ausente
{
  "error": "S3Key é obrigatório para submissionType 'document'"
}
```

```json 401 Não Autorizado
{
  "error": "Unauthorized"
}
```

```json 500 Erro no Envio
{
  "error": "Falha ao enviar envelope"
}
```

</ResponseExample>

### Validações

- **Destinatários**: Pelo menos um destinatário é obrigatório
- **Campos**: Pelo menos um campo é obrigatório
- **S3Key**: Obrigatório para submissionType "document"
- **Emails**: Devem ter formato válido
- **Posicionamento**: Coordenadas devem estar entre 0-100

<Note>
**Ordem de Assinatura**: Use o campo `order` nos destinatários para controlar a sequência de assinaturas. Se omitido, todos podem assinar simultaneamente.
</Note>

<Tip>
**Observadores**: Use observadores para manter equipes informadas sobre o progresso sem exigir assinatura delas.
</Tip>

<Warning>
**Documento S3**: Certifique-se que o documento referenciado pela `s3Key` existe e está acessível antes de enviar o envelope.
</Warning>