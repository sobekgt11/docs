---
title: Cancelar Envelope
description: Cancela (anula) um envelope enviado, impedindo novas assinaturas.
openapi: 'POST /api/envelopes/void'
---

Este endpoint permite cancelar um envelope que foi enviado, impedindo que destinatários façam novas assinaturas. O cancelamento é irreversível.

<RequestExample>
<CodeGroup>

```bash cURL
curl -X POST "https://api.formsign.com.br/api/envelopes/void" \
  -H "Authorization: Bearer <TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{
    "envelopeId": "env_abc123456789",
    "justificativa": "Cliente solicitou cancelamento do contrato"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.formsign.com.br/api/envelopes/void', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer <TOKEN>',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    envelopeId: 'env_abc123456789',
    justificativa: 'Cliente solicitou cancelamento do contrato'
  })
});

const result = await response.json();
console.log('Envelope cancelado:', result.envelopeId);
```

```python Python
import requests

payload = {
    "envelopeId": "env_abc123456789",
    "justificativa": "Cliente solicitou cancelamento do contrato"
}

response = requests.post(
    'https://api.formsign.com.br/api/envelopes/void',
    json=payload,
    headers={'Authorization': 'Bearer <TOKEN>'}
)

result = response.json()
print(f"Envelope cancelado: {result['envelopeId']}")
```

```go Go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "net/http"
)

func main() {
    payload := map[string]string{
        "envelopeId":     "env_abc123456789",
        "justificativa": "Cliente solicitou cancelamento do contrato",
    }
    
    jsonData, _ := json.Marshal(payload)
    req, _ := http.NewRequest("POST", "https://api.formsign.com.br/api/envelopes/void", bytes.NewBuffer(jsonData))
    req.Header.Set("Authorization", "Bearer <TOKEN>")
    req.Header.Set("Content-Type", "application/json")
    
    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
    
    var result map[string]interface{}
    json.NewDecoder(resp.Body).Decode(&result)
    
    fmt.Printf("Envelope cancelado: %v\n", result["envelopeId"])
}
```

</CodeGroup>
</RequestExample>

### Parâmetros (Body)

<ParamField body="envelopeId" type="string" required>ID do envelope a ser cancelado.</ParamField>
<ParamField body="justificativa" type="string" required>Motivo do cancelamento (para auditoria).</ParamField>

### Como Funciona

1. **Validação**: Verifica se o envelope existe e pertence ao usuário
2. **Status Check**: Confirma se o envelope pode ser cancelado
3. **Cancelamento**: Altera status para `voided` e invalida todos os links
4. **Notificação**: Envia emails informando o cancelamento aos destinatários
5. **Log**: Registra o cancelamento no histórico com a justificativa

### Quando Usar

- Erro no documento ou dados enviados
- Cliente desistiu do processo
- Necessidade de enviar nova versão
- Problemas legais ou contratuais
- Envelope enviado por engano

### Regras de Cancelamento

- **Status Válidos**: Apenas envelopes com status `sent`
- **Irreversível**: Cancelamento não pode ser desfeito
- **Justificativa Obrigatória**: Para fins de auditoria e compliance
- **Notificação Automática**: Destinatários são informados por email

### Status Válidos para Cancelamento

| Status | Pode Cancelar? | Motivo |
|--------|----------------|---------|
| `sent` | ✅ | Status normal para cancelamento |
| `draft` | ❌ | Use exclusão ao invés de cancelamento |
| `completed` | ❌ | Envelope já foi concluído |
| `voided` | ❌ | Envelope já está cancelado |
| `expired` | ❌ | Envelope já expirou naturalmente |

### Respostas

<ResponseExample>
```json 200 Sucesso
{
  "message": "Envelope cancelado com sucesso",
  "envelopeId": "env_abc123456789"
}
```

```json 400 Dados Ausentes
{
  "error": "envelopeId e justificativa são obrigatórios"
}
```

```json 404 Envelope Não Encontrado
{
  "error": "Envelope não encontrado"
}
```

```json 400 Já Cancelado
{
  "error": "Envelope já está cancelado"
}
```

```json 400 Já Completo
{
  "error": "Não é possível cancelar um envelope já completo"
}
```

```json 401 Não Autorizado
{
  "error": "Unauthorized"
}
```

```json 500 Erro no Cancelamento
{
  "error": "Falha ao cancelar envelope: [detalhes do erro]"
}
```
</ResponseExample>

### Campos da Response

<ResponseField name="message" type="string">Mensagem de confirmação do cancelamento.</ResponseField>
<ResponseField name="envelopeId" type="string">ID do envelope cancelado.</ResponseField>

### Efeitos do Cancelamento

1. **Status**: Envelope alterado para `voided`
2. **Links**: Todos os links de assinatura são invalidados
3. **Emails**: Destinatários recebem notificação de cancelamento
4. **Histórico**: Ação registrada com timestamp e justificativa
5. **Dashboard**: Envelope aparece na lista com status cancelado

<Warning>
**Ação Irreversível**: O cancelamento não pode ser desfeito. Se precisar reenviar, será necessário criar um novo envelope.
</Warning>

<Tip>
**Justificativa Clara**: Use justificativas descritivas para facilitar auditoria futura. Ex: "Erro na versão do documento", "Cliente solicitou alteração no prazo".
</Tip>